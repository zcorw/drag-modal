!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("dragModal",[],t):"object"==typeof exports?exports.dragModal=t():e.dragModal=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}e.r(t),e.d(t,{default:()=>c});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var t,n;return t=e,n=[{key:"addEventListener",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(this.events[e]){var n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}}},{key:"dispatchEvent",value:function(e,t){this.events[e]&&this.events[e].forEach((function(e){e(t)}))}},{key:"removeAllEventListener",value:function(){this.events={}}}],n&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const l=i;function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e,t,n){var r,o,i,a;if(!(e instanceof Element))throw new Error("第一参数必须是 Element 类型");var c=0,s=0,f=0,d=0;function v(){s=e.clientHeight,c=e.clientWidth,f=e.offsetLeft,d=e.offsetTop}var y=(null==n?void 0:n.minWidth)||250,m=(null==n?void 0:n.minHeight)||250,p=(null==t?void 0:t.move)||"drag-move",h=(null==t||null===(r=t.resize)||void 0===r?void 0:r.left)||"drag-resize-left",b=(null==t||null===(o=t.resize)||void 0===o?void 0:o.right)||"drag-resize-right",g=(null==t||null===(i=t.resize)||void 0===i?void 0:i.top)||"drag-resize-top",w=(null==t||null===(a=t.resize)||void 0===a?void 0:a.bottom)||"drag-resize-bottom",S=e.querySelectorAll("[".concat(p,"]")),E=e.querySelectorAll("[".concat(h,"]")),x=e.querySelectorAll("[".concat(b,"]")),A=e.querySelectorAll("[".concat(g,"]")),j=e.querySelectorAll("[".concat(w,"]")),O=[].concat(u(S),u(E),u(x),u(A),u(j)),L=(O=O.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])).map((function(e){return function(e){var t=0,n=0,r=0,o=0,i=0,u=0,a=!1,c=new l;function s(e){e.clientX<0||e.clientX>i||(r=e.clientX),e.clientY<0||e.clientY>u||(o=e.clientY)}return c.element=e,e.addEventListener("mousedown",(function(l){if(l.target===e){var f=document.createElement("div");f.style.cssText="position: absolute;left: 0;top: 0;width: 100vw;height: 100vh;z-index: 99999;",document.body.append(f),i=window.innerWidth,u=window.innerHeight,a=!0,t=l.clientX,n=l.clientY,r=l.clientX,o=l.clientY,c.dispatchEvent("start",{x:l.clientX,y:l.clientY}),f.addEventListener("mousemove",s),function e(){window.requestAnimationFrame((function(){c.dispatchEvent("move",{x:r-t,y:o-n,mouseX:r,mouseY:o}),t=r,n=o,a&&e()}))}(),document.addEventListener("mouseup",(function(){a=!1,f.removeEventListener("mousemove",s),f.remove()}),{once:!0})}})),c}(e)}));L.forEach((function(e){return e.addEventListener("start",v)})),L.forEach((function(t){return t.addEventListener("move",(function(n){return function(t,n){var r=n.x,o=n.y,i=n.mouseX,l=n.mouseY,u={top:d,left:f,right:f+c,bottom:d+s};if(t.hasAttribute(p)&&(e.style.left=f+r+"px",e.style.top=d+o+"px",f+=r,d+=o),t.hasAttribute(w)){var a=m;l-d>m&&(a=l-d),e.style.height=a+"px",s=a}if(t.hasAttribute(b)){var v=y;i-f>y&&(v=i-f),e.style.width=v+"px",c=v}if(t.hasAttribute(g)){var S=m,E=u.bottom;console.log(E-l,m),E-l>=m&&(S=E-l),e.style.height=S+"px",s=S,e.style.top=E-S+"px",d=E-S}if(t.hasAttribute(h)){var x=y,A=u.right;A-i>=y&&(x=A-i),e.style.width=x+"px",c=x,e.style.left=A-x+"px",f=A-x}}(t.element,n)}))}))};return t})()));